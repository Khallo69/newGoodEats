<!DOCTYPE html>
<html>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
<link rel="shortcut icon" href="https://freeiconshop.com/wp-content/uploads/edd/burger-flat.png" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="newGoodEatsStyle.css">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="utf-8"/>
</head>
<body>

<div class="header" id="mainPanelHeader"><i class="fas fa-hamburger"></i> <b>Good Eats</b>
  <button class="headButton menu" type="button" id="menuButton" onclick="displayMenu()"></button> 
</div>
<div class="row" id="pointsPage">
  <div class="col-12 col-s-12">
    <div class="aside" id="feelingPoints">
      <!--<h2><center>Feeling Points</h2>-->

      <div class="asideTwo" id="chipDisplay">
        <div class="slidecontainer">
          <h4>Chipotle</h4>
          <input type="range" min="0" max="10" value="0" class="slider" id="chipRange">
          <p><center>Points: <span id="chipValue"></span></center></p>
        </div>
      </div>
      
      <div class="asideTwo" id="panDisplay">
        <div class="slidecontainer">
          <h4>Panera</h4>
          <input type="range" min="0" max="10" value="0" class="slider" id="panRange">
          <p><center>Points: <span id="panValue"></span></center></p>
        </div>
      </div>

      <div class="asideTwo" id="tacoDisplay">
        <div class="slidecontainer">
          <h4>Taco Bell</h4>
          <input type="range" min="0" max="10" value="0" class="slider" id="tacoRange">
          <p><center>Points: <span id="tacoValue"></span></center></p>
        </div>
      </div>
      
    </div>
    <div class="asideTwo" id="foodPic">
      <center><img src= "https://upload.wikimedia.org/wikipedia/commons/5/59/Empty.png" class="centerPicture" height="350" width="350" id="myImage"></center>
    </div>
    <div class="aside" id="takeoutChoices">
      <!--Todo: Add switches for active point sliders -->
      <div class="asideThree">
        <label class="foodType">
          Chipotle
        </label>
        <label class="switch">
          <input type="checkbox" id="chipCheck">
          <div class="sliderSwitch round"></div>
        </label>
      </div> 

      <div class="asideThree">
        <label class="foodType">
          Panera
        </label>
        <label class="switch">
          <input type="checkbox" id="panCheck">
          <div class="sliderSwitch round"></div>
        </label>
      </div>

      <div class="asideThree">
        <label class="foodType">
          Taco Bell
        </label>
        <label class="switch">
          <input type="checkbox" id="tacoCheck">
          <div class="sliderSwitch round"></div>
        </label>
      </div>    
</div>

  <button class="button roll" type="button" id ="rollButt"  onclick="displayElement()">Roll the Dice</button> 
  <button class="button redo" type="button" id ="redoButt"  onclick="displayElement()">Redo Points</button> 

<script>
  var randomArray = [1, 2, 3];
  var totalFeelingPoints = 0;
  var fpElem = document.getElementById('feelingPoints'),
      picElem = document.getElementById('foodPic'),
      menuElem = document.getElementById('takeoutChoices'),
      tacoElem = document.getElementById('tacoDisplay'),
      panElem = document.getElementById('panDisplay'),
      chipElem = document.getElementById('chipDisplay');
  var image = document.getElementById('myImage');
  var buttonRoll = document.getElementById('rollButt'),
      buttonRedo = document.getElementById('redoButt');
  var tacoSwitch = document.getElementById('tacoCheck'),
      panSwitch = document.getElementById('panCheck'),
      chipSwitch = document.getElementById('chipCheck');
  fpElem.style.display = "block";
  picElem.style.display = "none";
  menuElem.style.display = "none";
  buttonRoll.style.display = "block";
  buttonRedo.style.display = "none";
  tacoElem.style.display = "block";
  panElem.style.display = "block";
  chipElem.style.display = "block";
  tacoSwitch.checked = true;
  panSwitch.checked = true;
  chipSwitch.checked = true;

  function displayElement() {
    if (fpElem.style.display === "none" && picElem.style.display === "block") {
      fpElem.style.display = "block";
      picElem.style.display = "none"
      buttonRoll.style.display = "block";
      buttonRedo.style.display = "none";
    } else {
      fpElem.style.display = "none";
      picElem.style.display = "block";
      fillRanArray();
      console.log(randomArray);
      randomImage(randomArray[Math.floor(Math.random() * randomArray.length)]);
      buttonRedo.style.backgroundColor = "#cf4f45";
      buttonRoll.style.display = "none";
      buttonRedo.style.display = "block";
    }
}
  function displayMenu() {
    if (fpElem.style.display === "block" || picElem.style.display === "block")
    {
      fpElem.style.display = "none";
      picElem.style.display = "none";
      takeoutChoices.style.display = "block";
      buttonRoll.style.display = "none";
      buttonRedo.style.display = "none";
    }
    else
    {
      fpElem.style.display = "block";
      picElem.style.display = "none";
      takeoutChoices.style.display = "none";
      buttonRoll.style.display = "block";
    }
  }

var tacoSlider = document.getElementById("tacoRange");
var tacoOutput = document.getElementById("tacoValue");
var panSlider = document.getElementById("panRange");
var panOutput = document.getElementById("panValue");
var chipSlider = document.getElementById("chipRange");
var chipOutput = document.getElementById("chipValue");
tacoOutput.innerHTML = tacoSlider.value;
panOutput.innerHTML = panSlider.value;
chipOutput.innerHTML = chipSlider.value;

tacoSlider.oninput = function() {
  tacoOutput.innerHTML = this.value;
}
panSlider.oninput = function() {
  panOutput.innerHTML = this.value;
}
chipSlider.oninput = function() {
  chipOutput.innerHTML = this.value;
}

function fillRanArray(){
  totalFeelingPoints = tacoSlider.value + panSlider.value + chipSlider.value;
  if(totalFeelingPoints > 0)
    {
      randomArray = [];
    }
    else
    {
      randomArray = [1, 2, 3];
    }
  for(var i = 0; i < tacoSlider.value; i++)
    {
      randomArray.push(1);
    }
  for(var i = 0; i < panSlider.value; i++)
    {
      randomArray.push(2);
    }
  for(var i = 0; i < chipSlider.value; i++)
    {
      randomArray.push(3);      
    }
}
function randomImage(val){
  var image = document.getElementById('myImage');
  image.src = "https://upload.wikimedia.org/wikipedia/commons/5/59/Empty.png";
  switch(val) {
    case 1:
      image.src = "https://cdn.freebiesupply.com/logos/large/2x/taco-bell-5-logo-png-transparent.png";
      //document.getElementById("foodHeader").innerHTML = "Tight!";
      break;

    case 2:
      image.src = "https://cdn.freebiesupply.com/logos/large/2x/panera-bread-logo-png-transparent.png";
      //document.getElementById("foodHeader").innerHTML = "Light!";
      break;

    case 3:
      image.src = "https://cdn.freebiesupply.com/logos/large/2x/chipotle-mexican-grill-logo-png-transparent.png";
      //document.getElementById("foodHeader").innerHTML = "Right!";
      break;
    }
}

document.addEventListener('DOMContentLoaded', function () {
  tacoSwitch.addEventListener('change', function () {
    checkSwitches(tacoSwitch, tacoDisplay, tacoSlider);
  });
  panSwitch.addEventListener('change', function () {
    checkSwitches(panSwitch, panDisplay, panSlider);
  });
  chipSwitch.addEventListener('change', function () {
    checkSwitches(chipSwitch, chipDisplay, chipSlider);
  });
});

function checkSwitches(foodSwitch, foodDisplay, slideVal){
if (foodSwitch.checked) {
      foodDisplay.style.display = "block";
      console.log('Checked');
    } else {
      foodDisplay.style.display = "none";
      slideVal.value = 0;
      console.log('Not checked');
    }
}
</script>
</body>
</html>
