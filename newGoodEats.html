<!DOCTYPE html>
<html>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">
<link rel="shortcut icon" href="https://freeiconshop.com/wp-content/uploads/edd/burger-flat.png" type="image/x-icon" />
<link rel="stylesheet" type="text/css" href="newGoodEatsStyle.css">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="utf-8"/>
</head>
<body>

<div class="header" id="mainPanelHeader"><i class="fas fa-hamburger"></i> <b>Good Eats</b>
  <button class="headButton menu" type="button" id="menuButton" onclick="displayMenu()"></button> 
</div>
<div class="row" id="pointsPage">
  <div class="col-12 col-s-12">
    <div class="aside" id="feelingPoints">
      <!--<h2><center>Feeling Points</h2>-->

      <div class="asideTwo" id="chipDisplay">
        <div class="slidecontainer">
          <h4>Chipotle</h4>
          <input type="range" min="0" max="10" value="0" class="slider" id="chipRange">
          <p><center>Points: <span id="chipValue"></span></center></p>
        </div>
      </div>
      <div><p></p></div>

      <div class="asideTwo" id="macDisplay">
        <div class="slidecontainer">
          <h4>McDonald's</h4>
          <input type="range" min="0" max="10" value="0" class="slider" id="macRange">
          <p><center>Points: <span id="macValue"></span></center></p>
        </div>
      </div>
      <div><p></p></div>

      <div class="asideTwo" id="panDisplay">
        <div class="slidecontainer">
          <h4>Panera</h4>
          <input type="range" min="0" max="10" value="0" class="slider" id="panRange">
          <p><center>Points: <span id="panValue"></span></center></p>
        </div>
      </div>
      <div><p></p></div>

      <div class="asideTwo" id="tacoDisplay">
        <div class="slidecontainer">
          <h4>Taco Bell</h4>
          <input type="range" min="0" max="10" value="0" class="slider" id="tacoRange">
          <p><center>Points: <span id="tacoValue"></span></center></p>
        </div>
      </div>
      <div><p></p></div>

      <div class="asideTwo" id="wendDisplay">
        <div class="slidecontainer">
          <h4>Wendy's</h4>
          <input type="range" min="0" max="10" value="0" class="slider" id="wendRange">
          <p><center>Points: <span id="wendValue"></span></center></p>
        </div>
      </div>
      <div><p></p></div>

    </div>
    <div class="asideTwo" id="foodPic">
      <center><img src= "https://upload.wikimedia.org/wikipedia/commons/5/59/Empty.png" class="centerPicture" height="350" width="350" id="myImage"></center>
    </div>
    <div class="aside" id="takeoutChoices">
      <!--Todo: Add switches for active point sliders -->
      <div class="asideThree">
        <label class="foodType">
          Chipotle
        </label>
        <label class="switch">
          <input type="checkbox" id="chipCheck">
          <div class="sliderSwitch round"></div>
        </label>
      </div> 
      <div><p></p></div>

      <div class="asideThree">
        <label class="foodType">
          McDonald's
        </label>
        <label class="switch">
          <input type="checkbox" id="macCheck">
          <div class="sliderSwitch round"></div>
        </label>
      </div>
      <div><p></p></div>  

      <div class="asideThree">
        <label class="foodType">
          Panera
        </label>
        <label class="switch">
          <input type="checkbox" id="panCheck">
          <div class="sliderSwitch round"></div>
        </label>
      </div>
      <div><p></p></div>

      <div class="asideThree">
        <label class="foodType">
          Taco Bell
        </label>
        <label class="switch">
          <input type="checkbox" id="tacoCheck">
          <div class="sliderSwitch round"></div>
        </label>
      </div>
      <div><p></p></div> 

      <div class="asideThree">
        <label class="foodType">
          Wendy's
        </label>
        <label class="switch">
          <input type="checkbox" id="wendCheck">
          <div class="sliderSwitch round"></div>
        </label>
      </div>
      <div><p></p></div>    
</div>

  <button class="button roll" type="button" id ="rollButt"  onclick="displayElement()">Roll the Dice</button> 
  <button class="button redo" type="button" id ="redoButt"  onclick="displayElement()">Redo Points</button> 
  <button class="button back" type="button" id ="backButt"  onclick="displayMenu()">Back</button> 

<script>
  var randomArray = [1, 2, 3];
  var totalFeelingPoints = 0;
  var fpElem = document.getElementById('feelingPoints'),
      picElem = document.getElementById('foodPic'),
      menuElem = document.getElementById('takeoutChoices'),
      chipElem = document.getElementById('chipDisplay'),
      macElem = document.getElementById('macDisplay'),
      panElem = document.getElementById('panDisplay'),
      tacoElem = document.getElementById('tacoDisplay');
      wendElem = document.getElementById('wendDisplay');
  var image = document.getElementById('myImage');
  var buttonRoll = document.getElementById('rollButt'),
      buttonRedo = document.getElementById('redoButt'),
      buttonBack = document.getElementById('backButt');
  var chipSwitch = document.getElementById('chipCheck'),
      macSwitch = document.getElementById('macCheck'),
      panSwitch = document.getElementById('panCheck'),
      tacoSwitch = document.getElementById('tacoCheck');
      wendSwitch = document.getElementById('wendCheck');
  var chipSlider = document.getElementById("chipRange"),
      chipOutput = document.getElementById("chipValue");
  var macSlider = document.getElementById("macRange"),
      macOutput = document.getElementById("macValue");
  var panSlider = document.getElementById("panRange"),
      panOutput = document.getElementById("panValue");
  var tacoSlider = document.getElementById("tacoRange"),
      tacoOutput = document.getElementById("tacoValue");
  var wendSlider = document.getElementById("wendRange"),
      wendOutput = document.getElementById("wendValue");
  
  
  fpElem.style.display = "block";
  picElem.style.display = "none";
  menuElem.style.display = "none";
  buttonRoll.style.display = "block";
  buttonRedo.style.display = "none";
  buttonBack.style.display = "none";
  chipElem.style.display = "block";
  macElem.style.display = "block";
  panElem.style.display = "block";
  tacoElem.style.display = "block";
  wendElem.style.display = "block";
  
  chipSwitch.checked = true;
  panSwitch.checked = true;
  macSwitch.checked = true;
  tacoSwitch.checked = true;
  wendSwitch.checked = true;

  function displayElement() {
    if (fpElem.style.display === "none" && picElem.style.display === "block") {
      fpElem.style.display = "block";
      picElem.style.display = "none"
      buttonRoll.style.display = "block";
      buttonRedo.style.display = "none";
    } else {
      fpElem.style.display = "none";
      picElem.style.display = "block";
      fillRanArray();
      console.log(randomArray);
      randomImage(randomArray[Math.floor(Math.random() * randomArray.length)]);
      buttonRedo.style.backgroundColor = "#cf4f45";
      buttonRoll.style.display = "none";
      buttonRedo.style.display = "block";
    }
}
  function displayMenu() {
    if (fpElem.style.display === "block" || picElem.style.display === "block")
    {
      fpElem.style.display = "none";
      picElem.style.display = "none";
      takeoutChoices.style.display = "block";
      buttonRoll.style.display = "none";
      buttonRedo.style.display = "none";
      buttonBack.style.display = "block";
    }
    else
    {
      fpElem.style.display = "block";
      picElem.style.display = "none";
      takeoutChoices.style.display = "none";
      buttonRoll.style.display = "block";
      buttonBack.style.display = "none";
    }
  }

chipOutput.innerHTML = chipSlider.value;
macOutput.innerHTML = macSlider.value;
panOutput.innerHTML = panSlider.value;
tacoOutput.innerHTML = tacoSlider.value;
wendOutput.innerHTML = wendSlider.value;

chipSlider.oninput = function() {
  chipOutput.innerHTML = this.value;
}
macSlider.oninput = function() {
  macOutput.innerHTML = this.value;
}
panSlider.oninput = function() {
  panOutput.innerHTML = this.value;
}
tacoSlider.oninput = function() {
  tacoOutput.innerHTML = this.value;
}
wendSlider.oninput = function() {
  wendOutput.innerHTML = this.value;
}

function fillRanArray(){
  totalFeelingPoints = chipSlider.value + macSlider.value + panSlider.value + tacoSlider.value + wendSlider.value;
  randomArray = [];
  checksAndFeelings(chipSwitch, chipSlider, 1);
  checksAndFeelings(macSwitch, macSlider, 2);
  checksAndFeelings(panSwitch, panSlider, 3);
  checksAndFeelings(tacoSwitch, tacoSlider, 4);
  checksAndFeelings(wendSwitch, wendSlider, 5);
}

function randomImage(val){
  var image = document.getElementById('myImage');
  image.src = "https://upload.wikimedia.org/wikipedia/commons/5/59/Empty.png";
  switch(val) {
    case 1:
      image.src = "https://cdn.freebiesupply.com/logos/large/2x/chipotle-mexican-grill-logo-png-transparent.png";
      break;

    case 2:
      image.src = "https://seeklogo.net/wp-content/uploads/2011/04/old-mcdonalds-vector-logo.png";
      break;

    case 3:
      image.src = "https://cdn.freebiesupply.com/logos/large/2x/panera-bread-logo-png-transparent.png";
      break;

    case 4:
      image.src = "https://cdn.freebiesupply.com/logos/large/2x/taco-bell-5-logo-png-transparent.png";
      break;

    case 5:
      image.src = "http://www.stickpng.com/assets/images/58429d58a6515b1e0ad75ae8.png";
      break;
    }
}

document.addEventListener('DOMContentLoaded', function () {
  chipSwitch.addEventListener('change', function () {
    checkSwitches(chipSwitch, chipDisplay, chipSlider, chipOutput);  
  });
  macSwitch.addEventListener('change', function () {
    checkSwitches(macSwitch, macDisplay, macSlider, macOutput);
  });
  panSwitch.addEventListener('change', function () {
    checkSwitches(panSwitch, panDisplay, panSlider, panOutput);
  });
  tacoSwitch.addEventListener('change', function () {
    checkSwitches(tacoSwitch, tacoDisplay, tacoSlider, tacoOutput);  
  });
  wendSwitch.addEventListener('change', function () {
    checkSwitches(wendSwitch, wendDisplay, wendSlider, wendOutput);  
  });
});

function checkSwitches(foodSwitch, foodDisplay, slideVal, foodOutput){
if (foodSwitch.checked) {
      foodDisplay.style.display = "block";
      console.log('Checked');
    } else {
      foodDisplay.style.display = "none";
      slideVal.value = 0;
      console.log('Not checked');
      foodOutput.innerHTML = slideVal.value;
    }
}

function checksAndFeelings(foodSwitch, foodSlider, id){
  if(foodSwitch.checked){
    if(totalFeelingPoints <=0){
      randomArray.push(id);
    }
    else{
      for(var i = 0; i < foodSlider.value; i++)
      {
        randomArray.push(id);
      }
    }
  }
}
</script>
</body>
</html>
